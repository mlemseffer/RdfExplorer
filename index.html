<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RdfExplorer</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <h1>üï∏Ô∏è RdfExplorer</h1>
            <div class="header-actions">
                <button class="btn btn-primary">üìÅ Importer Configuration (JSON)</button>
                <button class="btn btn-primary" id="importRDFBtn">üìÅ Importer RDF</button>
                <input type="file" id="fileInput" accept=".ttl" style="display: none;">
                <button class="btn btn-primary">üíæ Sauvegarder</button>
                <button class="btn btn-primary">üì§ Exporter (RDF+Config)</button>
                <button class="btn btn-primary" id="exportSVGBtn">üì§ Exporter SVG</button>
            </div>
        </header>

        <!-- Sidebar - Contr√¥les -->
        <aside class="sidebar">
            <!-- Filtres d'affichage -->
            <div class="panel">
                <div class="panel-header">üîç Filtres d'affichage</div>
                <div class="panel-content">
                    <div class="form-group">
                        <label>Degr√© minimum : <span id="minDegreeValue">0</span></label>
                        <input type="range" class="range-input" min="0" max="10" value="1">
                        <div class="range-labels">
                            <span>0</span>
                            <span>TODO</span>
                            <span>TODO</span>
                        </div>
                    </div>

                    <div class="form-group"> <!--//TODO : Extraire les rdf:type-->
                        <label>Types RDF √† afficher (noeuds)</label>
                        <div class="checkbox-group"></div>
                    </div>
                </div>
            </div>

            <!-- Apparence -->
            <div class="panel">
                <div class="panel-header">üé® Apparence</div>
                <div class="panel-content">
                    <div class="form-group">
                        <label>Couleur des n≈ìuds</label>
                        <select class="form-control" id="nodeColorModeSelect">
                            <option>Par type RDF</option>
                            <option>Par degr√© entrant</option>
                            <option>Par degr√© sortant</option>
                            <option>Par degr√© total</option>
                        </select>                        
                    </div>

                    <div class="form-group">
                        <label>Taille des n≈ìuds</label>
                        <select class="form-control">
                            <option>Par degr√© entrant</option>
                            <option>Par degr√© sortant</option>
                            <option>Par degr√© total</option>
                        </select>
                    </div>

                    <div class="color-legend" id="colorLegend">                        <!-- //TODO : Extraire les types ou les degr√©s et definir la couleur-->
                        <div class="legend-item">
                            <div class="legend-color" style="background: #ff6b6b;"></div>
                            <span>Person</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #4ecdc4;"></div>
                            <span>Org</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #45b7d1;"></div>
                            <span>Place</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #96ceb4;"></div>
                            <span>Concept</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exploration -->
            <div class="panel">
                <div class="panel-header">üß≠ Exploration</div>
                <div class="panel-content">
                    <div class="form-group">
                        <label>N≈ìud de d√©part</label>
                        <input type="text" class="form-control" placeholder="ex: dbr:Paris">
                    </div>

                    <button class="btn btn-secondary">üî∞‚Äã S√©lectionner d√©part</button>

                    <div class="form-group">
                        <label>Profondeur</label>
                        <input type="range" class="range-input">
                        <div class="range-labels">
                            <span>1</span>
                            <span>TODO</span>
                            <span>TODO</span>
                        </div>
                    </div>
                    
                    <button class="btn btn-secondary">üéØ Explorer en profondeur</button>

                    <div class="form-group" style="margin-top: 15px;">
                        <label>Recherche de chemin</label>
                        <input type="text" class="form-control" placeholder="N≈ìud d'arriv√©e"
                            style="margin-bottom: 5px;">
                        <button class="btn btn-secondary">üõë‚Äã S√©lectionner arriv√©e</button>
                        <button class="btn btn-secondary">‚ö° Chemin le plus court</button>
                        <button class="btn btn-secondary">üó∫Ô∏è Tous les chemins</button>
                    </div>

                    <div class="form-group" style="margin-top: 15px;">
                        <label>Reinitialisation</label>
                        <button id="resetGraphBtn" class="btn btn-secondary">üîÑ Supprimer le graphe</button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Zone principale - Graphe -->
        <main class="main-area">
            <div class="graph-container">
                <div class="graph-overlay">
                    üìä Graphe: 0 n≈ìuds ‚Ä¢ 0 ar√™tes ‚Ä¢ <span id="zoom">Zoom : 100%</span>
                </div>
            </div>
        </main>

        <!-- Toolbar droite - Analyses -->
        <aside class="toolbar">
            <!-- Informations sur le n≈ìud s√©lectionn√© -->
            <div class="panel">
                <div class="panel-header">‚ÑπÔ∏è N≈ìud s√©lectionn√©</div>
                <div class="panel-content">
                    <strong>Cliquez sur un noeud</strong><br>
                </div>
            </div>

            <!-- Statistiques -->
            <div class="panel">
                <div class="panel-header">üìà Statistiques</div>
                <div class="panel-content">
                    <div class="stats-item">
                        <span>Triplets totaux:</span>
                        <span class="stats-value">TODO</span>
                    </div>
                    <div class="stats-item">
                        <span>N≈ìuds uniques:</span>
                        <span class="stats-value">TODO</span>
                    </div>
                    <div class="stats-item">
                        <span>Pr√©dicats uniques:</span>
                        <span class="stats-value">TODO</span>
                    </div>
                    <div class="stats-item">
                        <span>N≈ìuds isol√©s:</span>
                        <span class="stats-value">TODO</span>
                    </div>

                    <div style="margin-top: 15px;">
                        <label style="font-size: 13px; font-weight: 600;">Distribution par type:</label>
                        <div class="stats-item">
                            <span>foaf:Person</span>
                            <span class="stats-value">TODO</span>
                        </div>
                        <div class="stats-item">
                            <span>dbo:Organization</span>
                            <span class="stats-value">TODO</span>
                        </div>
                        <div class="stats-item">
                            <span>dbo:Place</span>
                            <span class="stats-value">TODO</span>
                        </div>
                        <div class="stats-item">
                            <span>skos:Concept</span>
                            <span class="stats-value">TODO</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pr√©dicats -->
            <div class="panel">
                <div class="panel-header">üîó Pr√©dicats actifs</div> <!-- //TODO : Extraire les pr√©dicats-->
                <div class="panel-content">
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="hideIsolatedNodes">
                            <label for="hideIsolatedNodes">Masquer les n≈ìuds isol√©s</label>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Aper√ßu mini-graphe -->
            <div class="panel">
                <div class="panel-header">üó∫Ô∏è Vue d'ensemble</div>
                <div class="panel-content">
                    <div class="node-preview">
                        <svg id="miniMapSvg" width="100%" height="100%"></svg>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/n3@1.14.0/browser/n3.min.js"></script>
    <script src="script.js"></script>
</body>

</html>
